<?xml version="1.0" encoding="UTF-8"?>
<table xmlns="http://query.yahooapis.com/v1/schema/table.xsd">
    <meta>
        <author>me</author>
        <description>carros</description>
    </meta>
      <bindings>
        <select produces="XML">
        <urls>
          <url>https://rawgit.com/teles/yql-tables/master/exemplo.html</url>
        </urls>
        <execute><![CDATA[
          var urlParaRaspar = "http://www.carrosaojose.com.br/veiculos?revenda_id=3639";
          var data = y.rest(urlParaRaspar).accept('text/html').get().response;    


          var xpathMapRevenda = {
              "rootElement": "//div[contains(@class, 'filtros-lista')][1]",
              "foto": "//div[contains(@class, 'photoRev')]/img/@src",
              "nome": "//div[contains(@class, 'detRev')][1]//span[contains(@class, 'titleRev')]",
              "endereco": "//div[contains(@class, 'endereco')][1]/p",
          };


          var revendaRootElement = y.xpath(data, xpathMapRevenda.rootElement);

          var revenda = {
            "foto": y.xpath(revendaRootElement, xpathMapRevenda.foto),
            "nome": y.xpath(revendaRootElement, xpathMapRevenda.nome).content,
            "endereco": y.xpath(revendaRootElement, xpathMapRevenda.endereco).content,
          }


          y.log(revenda);

          response.object = <revenda><foto>{revenda.foto}</foto><nome>{revenda.nome}</nome></revenda>;


          // for(var xpathSelectorRevenda in xpathMapRevenda) {
          //     if(xpathMapRevenda.hasOwnProperty(xpathSelectorRevenda)) {
          //         y.xpath(revendaRootElement, xpath)                                        

          //     }
          // }          




        ]]>
        </execute>
      </select>
      </bindings>
</table>